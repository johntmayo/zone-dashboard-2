<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>About the Dashboard - Altagether Zone Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/x-icon" href="public/images/favicon.ico" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Chivo:wght@400;700;900&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-paper: #FDFBF7;
      --bg-card: #FFFFFF;
      --text-primary: #1F2937;
      --text-secondary: #4B5563;
      --brand-primary-dark: #314059;
      --accent-gold: #F59E0B;
      --accent-clay: #BC5838;
      --accent-teal: #347072;
      --primary: var(--brand-primary-dark);
      --primary-dark: var(--brand-primary-dark);
      --accent: var(--accent-gold);
      --light-cream: #FDFBF7;
      --text: var(--text-primary);
      --text-light: var(--text-secondary);
      --border-color: var(--text-primary);
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      font-family: 'Merriweather', serif;
      background: var(--bg-paper);
      color: var(--text-primary);
      line-height: 1.6;
    }

    h1, h2, h3, h4 {
      font-family: 'Chivo', sans-serif;
      font-weight: 900;
      color: var(--primary-dark);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
      display: flex;
      gap: 40px;
    }

    .sidebar {
      width: 280px;
      flex-shrink: 0;
      position: sticky;
      top: 20px;
      height: fit-content;
      max-height: calc(100vh - 40px);
      overflow-y: auto;
    }

    .sidebar-nav {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 4px 12px rgba(40, 54, 24, 0.15), 0 2px 4px rgba(40, 54, 24, 0.1);
      border: 2px solid var(--primary);
    }

    .sidebar-nav h2 {
      font-size: 1.3rem;
      margin: 0 0 20px 0;
      padding-bottom: 12px;
      border-bottom: 2px solid var(--primary);
    }

    .nav-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .nav-list li { margin-bottom: 8px; }

    .nav-list a {
      display: block;
      padding: 10px 14px;
      color: var(--text);
      text-decoration: none;
      border-radius: 6px;
      transition: all 0.2s ease;
      font-size: 0.95rem;
    }

    .nav-list a:hover {
      background: rgba(49, 64, 89, 0.1);
      color: var(--primary-dark);
      transform: translateX(4px);
    }

    .main-content { flex: 1; min-width: 0; }

    .header {
      text-align: center;
      margin-bottom: 40px;
      padding-bottom: 30px;
      border-bottom: 3px solid var(--primary);
    }

    .header h1 {
      font-size: 2.5rem;
      margin: 0 0 10px 0;
    }

    .header p { font-size: 1.1rem; color: var(--text-light); }

    .back-link {
      display: inline-block;
      margin-bottom: 30px;
      padding: 12px 24px;
      background: var(--primary-dark);
      color: var(--light-cream);
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      font-family: 'Chivo', sans-serif;
      transition: all 0.3s ease;
      border: 2px solid var(--border-color);
    }

    .back-link:hover { opacity: 0.9; }

    .help-content {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      padding: 40px;
      box-shadow: 0 4px 12px rgba(40, 54, 24, 0.15), 0 2px 4px rgba(40, 54, 24, 0.1);
    }

    .help-content section {
      margin-bottom: 40px;
      scroll-margin-top: 20px;
    }

    .help-content section:last-child { margin-bottom: 0; }

    .help-content h2 {
      font-size: 1.8rem;
      margin: 0 0 20px 0;
      padding-bottom: 10px;
      border-bottom: 2px solid var(--accent-gold);
    }

    .help-content p { margin: 0 0 15px 0; }

    .help-content ul, .help-content ol {
      margin: 15px 0;
      padding-left: 30px;
    }

    .help-content li { margin-bottom: 10px; }

    .about-accordion {
      margin-bottom: 8px;
      border: 2px solid var(--border-color);
      border-radius: 4px;
      overflow: hidden;
    }

    .about-accordion summary {
      padding: 14px 18px;
      font-family: 'Chivo', sans-serif;
      font-weight: 700;
      cursor: pointer;
      background: var(--bg-card);
      color: var(--brand-primary-dark);
      user-select: none;
    }

    .about-accordion summary:hover {
      background: rgba(49, 64, 89, 0.05);
    }

    .about-accordion-content {
      padding: 16px 18px;
      background: var(--bg-paper);
      border-top: 2px solid var(--border-color);
    }

    .about-accordion-content p, .about-accordion-content ul { margin: 0 0 10px 0; }
    .about-accordion-content ul { padding-left: 24px; }

    .about-troubleshoot-list { margin: 12px 0; }

    .about-troubleshoot-list dt {
      font-family: 'Chivo', sans-serif;
      font-weight: 700;
      color: var(--brand-primary-dark);
      margin-top: 16px;
      margin-bottom: 4px;
    }

    .about-troubleshoot-list dt:first-child { margin-top: 0; }

    .about-troubleshoot-list dd {
      margin: 0 0 0 16px;
      padding-bottom: 8px;
      line-height: 1.6;
    }

    .help-card {
      padding: 24px;
      background: var(--bg-paper);
      border-radius: 0;
      border: 2px solid var(--border-color);
      margin-top: 16px;
    }

    .help-card h4 {
      margin-top: 0;
      margin-bottom: 12px;
      font-size: 1.1rem;
    }

    .help-card p { margin-bottom: 16px; }

    .help-link-btn {
      display: inline-block;
      padding: 12px 20px;
      background-color: var(--accent-clay);
      color: #F3F4F6;
      text-decoration: none;
      border-radius: 0;
      border: 2px solid var(--border-color);
      box-shadow: 2px 2px 0px var(--border-color);
      font-weight: 700;
      font-size: 1rem;
      font-family: 'Chivo', sans-serif;
      transition: all 0.1s ease;
      cursor: pointer;
    }

    .help-link-btn:hover {
      transform: translate(-2px, -2px);
      box-shadow: 4px 4px 0px var(--border-color);
    }

    .help-card-buttons {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    /* Discord Modal */
    .discord-modal-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(31, 41, 55, 0.7);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      backdrop-filter: blur(4px);
    }

    .discord-modal-overlay.hidden { display: none; }

    .discord-modal {
      background: #FDFBF7;
      border-radius: 0;
      padding: 32px;
      max-width: 700px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 8px 8px 0px var(--border-color);
      position: relative;
      border: 2px solid var(--border-color);
    }

    .discord-modal-close {
      position: absolute;
      top: 16px;
      right: 16px;
      background: none;
      border: none;
      font-size: 2rem;
      cursor: pointer;
      color: var(--text-light);
      padding: 8px;
    }

    .discord-modal-close:hover { color: var(--primary-dark); }

    .step-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      background: var(--primary-dark);
      color: var(--light-cream);
      border-radius: 50%;
      font-weight: 700;
      flex-shrink: 0;
      margin-right: 12px;
    }

    .step-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 16px;
    }

    .step-content { flex: 1; }

    @media (max-width: 900px) {
      .container { flex-direction: column; padding: 20px 15px; }
      .sidebar { width: 100%; position: relative; top: 0; }
      .help-content { padding: 24px; }
      .header h1 { font-size: 2rem; }
    }

    html { scroll-behavior: smooth; }
  </style>
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <nav class="sidebar-nav">
        <h2>Navigation</h2>
        <ul class="nav-list">
          <li><a href="#about-what">What This Tool Is</a></li>
          <li><a href="#about-data-promise">Your Data Promise</a></li>
          <li><a href="#about-intentions">Our Intentions</a></li>
          <li><a href="#about-how-it-works">How the App Works</a></li>
          <li><a href="#about-tutorials">Tutorials</a></li>
          <li><a href="#about-troubleshooting">Common Issues</a></li>
          <li><a href="#about-more-help">More Help & Community</a></li>
        </ul>
      </nav>
    </aside>

    <main class="main-content">
      <div class="header">
        <h1>About the Dashboard</h1>
        <p>Altagether Zone Dashboard ‚Äî trust, orientation, and grounding</p>
        <a href="index.html" class="back-link">‚Üê Open Dashboard</a>
      </div>

      <div class="help-content">
        <section id="about-what">
          <h2>What This Tool Is</h2>
          <p>The Altagether Zone Dashboard is a Neighborhood Captain (NC) tool for viewing and managing zone data, maps, and resources. It helps you coordinate with neighbors in your zone‚Äîtracking who you've contacted, damage status, rebuild progress, and more‚Äîall from a single place.</p>
          <p>This tool is built for people on the ground: volunteers who are connecting with their communities and need a simple, reliable way to see what's happening in their zone without wrestling with spreadsheets.</p>
        </section>

        <section id="about-data-promise">
          <h2>Your Data Promise</h2>
          <ul>
            <li><strong>Your data lives in your Google Sheet.</strong> The dashboard reads and writes directly to the spreadsheet you link. There is no separate database holding your data.</li>
            <li><strong>You own the data.</strong> The spreadsheet belongs to you (or your zone admin). You control who has access to it through Google's sharing settings.</li>
            <li><strong>Access is limited to people you share with.</strong> Only people who have the spreadsheet URL‚Äîand whose spreadsheet is properly set up‚Äîcan use the dashboard to view or edit that data.</li>
            <li><strong>No hidden syncing, no silent aggregation.</strong> The app does not extract, centralize, or aggregate your data beyond what's needed to display and edit it in the dashboard.</li>
          </ul>
        </section>

        <section id="about-intentions">
          <h2>Our Intentions Around Data</h2>
          <p>This tool is not designed to extract or centralize data from Neighborhood Captains. We avoid surveillance-style defaults. Sharing upward or outward is intentional, limited, and opt-in. Power stays with Neighborhood Captains by default‚Äîyou decide what to share and with whom.</p>
        </section>

        <section id="about-how-it-works">
          <h2>How the App Works</h2>
          <ol>
            <li><strong>Sign in with Google.</strong> This identifies who you are (for things like editing and NC Profile). The app does not store your password or gain access to your Google Drive beyond what you authorize.</li>
            <li><strong>Point the app at your zone spreadsheet.</strong> Paste the Google Sheets URL into the input in the left nav (or in the welcome flow) and click Load.</li>
            <li><strong>The app reads and writes directly to that sheet.</strong> All data operations go through our server, which uses a service account to talk to Google Sheets. Your Google account does not need to be added as an editor on the spreadsheet‚Äîas long as the sheet is shared with our service account and you have the URL, you can use the dashboard.</li>
            <li><strong>Session-based access.</strong> Once you sign out or your session expires, the app has no background access to your data. You're in control.</li>
          </ol>
        </section>

        <section id="about-tutorials">
          <h2>Tutorials</h2>
          <p>Short, focused walkthroughs to get you oriented. Expand any section below.</p>

          <details class="about-accordion">
            <summary>Getting started</summary>
            <div class="about-accordion-content">
              <p><strong>Step 1:</strong> Sign in with Google using the button in the welcome message or in the right panel.</p>
              <p><strong>Step 2:</strong> Open your zone spreadsheet in Google Sheets, copy the URL from the browser address bar, and paste it into the dashboard. Click Load.</p>
              <p>Once loaded, you'll see Home, Map, Neighbors, and other views in the left nav.</p>
            </div>
          </details>
          <details class="about-accordion">
            <summary>Loading your sheet</summary>
            <div class="about-accordion-content">
              <p>You can load a sheet from the welcome overlay (when no sheet is linked) or from the sheet input at the bottom of the left nav. Paste any valid Google Sheets URL‚Äîstandard format or published‚Äîand click Load. The sheet must be shared with our service account (your zone admin typically does this once).</p>
            </div>
          </details>
          <details class="about-accordion">
            <summary>Navigating the map</summary>
            <div class="about-accordion-content">
              <p>On the Map view, each address appears as a marker. Use the "Color by" control (top-left) to color markers by Contact Status, Damage, Rebuild Status, or Captain. Click a marker or address in the right panel to see details. The filter bar at the top narrows which addresses are shown on both the map and the Neighbors table.</p>
            </div>
          </details>
          <details class="about-accordion">
            <summary>Common first-time mistakes</summary>
            <div class="about-accordion-content">
              <ul>
                <li>Forgetting to sign in before editing‚Äîsign in first to enable Add Record, Batch Tagging, Zone Notes, etc.</li>
                <li>Using a sheet that isn't shared with the service account‚Äîask your admin to share the sheet with the app.</li>
                <li>Pasting the wrong URL‚Äîmake sure it's the full Google Sheets URL, not a shortened or Drive folder link.</li>
              </ul>
            </div>
          </details>
        </section>

        <section id="about-troubleshooting">
          <h2>Common Issues</h2>
          <dl class="about-troubleshoot-list">
            <dt>Session expired</dt>
            <dd>Sign out and sign back in with Google. If you were editing, your last save may have gone through‚Äîcheck the sheet.</dd>
            <dt>Sheet not loading</dt>
            <dd>Check that the URL is correct and that the sheet is shared with our service account. Try refreshing the page and pasting the URL again.</dd>
            <dt>Permissions issues</dt>
            <dd>You don't need to be added as an editor on the spreadsheet in Drive‚Äîyou only need the URL and for the sheet to be shared with the app's service account. If you still can't load it, contact your zone admin.</dd>
            <dt>Refreshing or re-linking sheets</dt>
            <dd>Change the URL in the sheet input and click Load to switch to a different spreadsheet. The app will reload data from the new sheet.</dd>
          </dl>
        </section>

        <section id="about-more-help">
          <h2>More Help & Community</h2>
          <div class="help-card">
            <h4>Zone Dashboard Documentation</h4>
            <p>View the complete help documentation with detailed instructions and guides.</p>
            <a href="help.html" target="_blank" rel="noopener noreferrer" class="help-link-btn">üìñ Open Full Documentation</a>
          </div>
          <div class="help-card">
            <h4>Discord</h4>
            <p>Join our Discord community for support, updates, and discussions.</p>
            <div class="help-card-buttons">
              <button type="button" id="discordQuickStartBtn" class="help-link-btn">üöÄ Discord Quick Start</button>
              <a href="discord-help.html" target="_blank" rel="noopener noreferrer" class="help-link-btn">üìö Discord Tutorial</a>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <!-- Discord Quick Start Modal -->
  <div id="discordQuickStartModal" class="discord-modal-overlay hidden">
    <div class="discord-modal">
      <button type="button" class="discord-modal-close" id="discordModalClose">&times;</button>
      <div class="discord-modal-content">
        <h2 style="margin-top: 0; margin-bottom: 16px; font-size: 1.5rem;">üöÄ First Thing to Do: Join the Discord</h2>
        <p style="margin-bottom: 12px; font-size: 1.05rem;"><strong>This is the first thing a new captain should do on Discord.</strong></p>
        <p style="margin-bottom: 16px;">
          Hosted within the broader <a href="https://www.efsurvivors.net/" target="_blank" rel="noopener noreferrer" style="color: var(--primary-dark); text-decoration: underline; font-weight: 600;">Eaton Fire Survivors Network</a>, Altagether's Discord channel is our shared space for chatting, trading ideas, and finding quick answers.
        </p>
        <div style="margin: 16px 0;">
          <div class="step-item">
            <span class="step-number">1</span>
            <div class="step-content">
              <strong>Use this link to join:</strong> <a href="https://discord.com/invite/Y5atRPvc3V" target="_blank" rel="noopener noreferrer" style="color: var(--primary-dark); text-decoration: underline; font-weight: 600;">Discord Invite</a>
            </div>
          </div>
          <div class="step-item">
            <span class="step-number">2</span>
            <div class="step-content">
              Then message us (<strong>@altagether_org</strong>) with your name so we can add you to the private NC channel.
            </div>
          </div>
        </div>
        <p style="margin-top: 16px; margin-bottom: 0; padding: 12px; background: rgba(96, 108, 56, 0.1); border-radius: 6px; border-left: 3px solid var(--accent);">
          <strong>This video shows you how:</strong> <a href="https://drive.google.com/file/d/1ITF5yi1W14jenwAS92XFO3e99W5QIzGG/view?usp=drive_link" target="_blank" rel="noopener noreferrer" style="color: var(--primary-dark); text-decoration: underline; font-weight: 600;">Watch Quick-Start Training Video</a>
        </p>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('discordQuickStartBtn').addEventListener('click', function() {
      document.getElementById('discordQuickStartModal').classList.remove('hidden');
    });
    document.getElementById('discordModalClose').addEventListener('click', function() {
      document.getElementById('discordQuickStartModal').classList.add('hidden');
    });
  </script>
</body>
</html>
